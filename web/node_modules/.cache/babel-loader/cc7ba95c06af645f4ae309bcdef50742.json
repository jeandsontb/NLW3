{"ast":null,"code":"var _jsxFileName = \"/home/jeandson/ProjectReactNative/NLW3/web/src/pages/CreateOrphanate.tsx\";\nimport React, { useState } from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport L from 'leaflet';\nimport { FiPlus } from \"react-icons/fi\";\nimport mapMarkerImg from \"../images/marker.svg\";\nimport Sidebar from \"../components/Sidebar\";\nimport '../styles/pages/create-orphanate.css';\nconst happyMapIcon = L.icon({\n  iconUrl: mapMarkerImg,\n  iconSize: [58, 68],\n  iconAnchor: [29, 68],\n  popupAnchor: [0, -60]\n});\nexport default function CreateOrphanage() {\n  const [position, setPosition] = useState({\n    latitude: 0,\n    longitude: 0\n  });\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [instructions, setInstrucions] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images, setImages] = useState([]);\n  const [previewImages, setPreviewImages] = useState([]);\n  const {\n    latitude,\n    longitude\n  } = position;\n\n  const handleMapClick = event => {\n    const {\n      lat,\n      lng\n    } = event.latlng;\n    setPosition({\n      latitude: lat,\n      longitude: lng\n    });\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    console.log({\n      name,\n      about,\n      latitude,\n      longitude,\n      instructions,\n      opening_hours,\n      open_on_weekends\n    });\n  };\n\n  const handleSelectImages = event => {\n    if (!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n    setImages(selectedImages);\n    const selectedPreviewImage = selectedImages.map(e => URL.createObjectURL(e));\n    setPreviewImages(selectedPreviewImage);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-create-orphanage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    className: \"create-orphanage-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Dados\"), /*#__PURE__*/React.createElement(Map, {\n    center: [-27.2092052, -49.6401092],\n    style: {\n      width: '100%',\n      height: 280\n    },\n    zoom: 15,\n    onclick: handleMapClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    url: `https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }), position.latitude && /*#__PURE__*/React.createElement(Marker, {\n    interactive: false,\n    icon: happyMapIcon,\n    position: [position.latitude, position.longitude],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Sobre \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 44\n    }\n  }, \"M\\xE1ximo de 300 caracteres\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"name\",\n    maxLength: 300,\n    value: about,\n    onChange: e => setAbout(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \"Fotos\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, previewImages.map((image, index) => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      key: index,\n      src: image,\n      alt: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image[]\",\n    className: \"new-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiPlus, {\n    size: 24,\n    color: \"#15b6d6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    multiple: true,\n    id: \"image[]\",\n    onChange: handleSelectImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Visita\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"instructions\",\n    value: instructions,\n    onChange: e => setInstrucions(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"opening_hours\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Hor\\xE1rio de funcionamento\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"opening_hours\",\n    value: opening_hours,\n    onChange: e => setOpeningHours(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"open_on_weekends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Atende fim de semana\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: open_on_weekends ? 'active' : '',\n    onClick: () => setOpenOnWeekends(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, \"Sim\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: !open_on_weekends ? 'active' : '',\n    onClick: () => setOpenOnWeekends(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, \"N\\xE3o\")))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"confirm-button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, \"Confirmar\"))));\n} // return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;","map":{"version":3,"sources":["/home/jeandson/ProjectReactNative/NLW3/web/src/pages/CreateOrphanate.tsx"],"names":["React","useState","Map","Marker","TileLayer","L","FiPlus","Sidebar","happyMapIcon","icon","iconUrl","mapMarkerImg","iconSize","iconAnchor","popupAnchor","CreateOrphanage","position","setPosition","latitude","longitude","name","setName","about","setAbout","instructions","setInstrucions","opening_hours","setOpeningHours","open_on_weekends","setOpenOnWeekends","images","setImages","previewImages","setPreviewImages","handleMapClick","event","lat","lng","latlng","handleFormSubmit","preventDefault","console","log","handleSelectImages","target","files","selectedImages","Array","from","selectedPreviewImage","map","e","URL","createObjectURL","width","height","process","env","REACT_APP_MAPBOX_TOKEN","value","image","index"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, FormEvent, useState } from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\nimport L from 'leaflet';\nimport { LeafletMouseEvent } from 'leaflet';\n\nimport { FiPlus } from \"react-icons/fi\";\n\nimport mapMarkerImg from '../images/marker.svg';\nimport Sidebar from \"../components/Sidebar\";\n\nimport '../styles/pages/create-orphanate.css';\n\nconst happyMapIcon = L.icon({\n  iconUrl: mapMarkerImg,\n\n  iconSize: [58, 68],\n  iconAnchor: [29, 68],\n  popupAnchor: [0, -60]\n})\n\nexport default function CreateOrphanage() {\n\n  const [ position, setPosition ] = useState({ latitude:0, longitude:0 })\n  const [ name, setName ] = useState(''); \n  const [ about, setAbout ] = useState('');\n  const [ instructions, setInstrucions ] = useState('');\n  const [ opening_hours, setOpeningHours ] = useState('');\n  const [ open_on_weekends, setOpenOnWeekends ] = useState(true);\n  const [ images, setImages ] = useState<File[]>([]);\n  const [ previewImages, setPreviewImages ] = useState<string[]>([]);\n\n  const { latitude, longitude } = position;\n\n  const handleMapClick = (event: LeafletMouseEvent ) => {\n\n    const { lat, lng } = event.latlng;\n\n    setPosition({\n        latitude: lat,\n        longitude: lng,\n    });\n  }\n\n  const handleFormSubmit = (event: FormEvent) => {\n    event.preventDefault();\n\n    console.log({\n      name,\n      about,\n      latitude,\n      longitude,\n      instructions,\n      opening_hours,\n      open_on_weekends\n    })\n  }\n\n  const handleSelectImages = (event: ChangeEvent<HTMLInputElement>) => {\n    if(!event.target.files) {\n      return;\n    }\n\n    const selectedImages = Array.from(event.target.files);\n\n    setImages(selectedImages);\n\n    const selectedPreviewImage = selectedImages.map(e => URL.createObjectURL(e));\n\n    setPreviewImages(selectedPreviewImage);\n  }\n\n\n  return (\n    <div id=\"page-create-orphanage\">\n      \n      <Sidebar />\n\n      <main>\n        <form onSubmit={handleFormSubmit} className=\"create-orphanage-form\">\n          <fieldset>\n            <legend>Dados</legend>\n\n            <Map \n              center={[-27.2092052,-49.6401092]} \n              style={{ width: '100%', height: 280 }}\n              zoom={15}\n              onclick={handleMapClick}\n            >\n              <TileLayer \n                url={`https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`}\n              />\n\n              {position.latitude &&\n               <Marker \n                  interactive={false} \n                  icon={happyMapIcon} \n                  position={[position.latitude,position.longitude]} \n                />\n              }\n            </Map>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"name\">Nome</label>\n              <input \n                id=\"name\" \n                value={name} \n                onChange={e => setName(e.target.value)} \n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\n              <textarea \n                id=\"name\" \n                maxLength={300} \n                value={about} \n                onChange={e => setAbout(e.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"images\">Fotos</label>\n\n              <div className=\"images-container\">\n                {previewImages.map((image, index ) => {\n                  return (\n                    <img key={index} src={image} alt={name} />\n                  );\n                })}\n\n                <label htmlFor=\"image[]\" className=\"new-image\">\n                  <FiPlus size={24} color=\"#15b6d6\" />\n                </label>\n              </div>\n              \n              <input \n                type=\"file\" \n                multiple \n                id=\"image[]\" \n                onChange={handleSelectImages}\n              />\n            </div>\n\n          </fieldset>\n\n          <fieldset>\n            <legend>Visitação</legend>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"instructions\">Instruções</label>\n              <textarea \n                id=\"instructions\"\n                value={instructions} \n                onChange={e => setInstrucions(e.target.value)}  \n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\n              <input \n                id=\"opening_hours\" \n                value={opening_hours} \n                onChange={e => setOpeningHours(e.target.value)}\n              />\n            </div>\n\n            <div className=\"input-block\">\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\n\n              <div className=\"button-select\">\n                <button \n                  type=\"button\" \n                  className={open_on_weekends ? 'active' : ''}\n                  onClick={() => setOpenOnWeekends(true)}\n                >\n                  Sim\n                </button>\n                <button \n                  type=\"button\"\n                  className={!open_on_weekends ? 'active' : ''}\n                  onClick={() => setOpenOnWeekends(false)}\n                >\n                  Não\n                </button>\n              </div>\n            </div>\n          </fieldset>\n\n          <button className=\"confirm-button\" type=\"submit\">\n            Confirmar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\n// return `https://a.tile.openstreetmap.org/${z}/${x}/${y}.png`;\n"]},"metadata":{},"sourceType":"module"}